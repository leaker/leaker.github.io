<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>M8 on 逃避虽然可耻但有用</title><link>https://www.leelib.com/tags/m8.html</link><description>Recent content in M8 on 逃避虽然可耻但有用</description><generator>Hugo</generator><language>zh-CN</language><lastBuildDate>Thu, 12 Apr 2012 09:27:17 +0800</lastBuildDate><atom:link href="https://www.leelib.com/tags/m8/atom.xml" rel="self" type="application/rss+xml"/><item><title>将M8导出的联系人XML转化成Andriod可以导入的vcf文件</title><link>https://www.leelib.com/2012/04/12/convert-m8-contacts-xml-to-andriod-vcf.html</link><pubDate>Thu, 12 Apr 2012 09:27:17 +0800</pubDate><guid>https://www.leelib.com/2012/04/12/convert-m8-contacts-xml-to-andriod-vcf.html</guid><description>&lt;p>&lt;img src="https://www.leelib.com/wp-content/uploads/2012/04/android.webp#center" alt="android">&lt;/p>
&lt;p>通过我写的一段Python代码可以让M8用户将联系人导入到Andriod系统中。&lt;/p>
&lt;h2 id="操作需要以下步骤">操作需要以下步骤：&lt;/h2>
&lt;ol>
&lt;li>先用M8PC工具将M8的联系人导出成XML格式。&lt;/li>
&lt;li>将导出的文件重命名为mycontact.xml，并与m8toAndriod.py放到同一目录下&lt;/li>
&lt;li>运行 python m8toAndriod.py 程序会生成一个名为 mycontact.vcf 的文件&lt;/li>
&lt;li>将 mycontact.vcf 传到Andriod手机中导入&lt;/li>
&lt;/ol>
&lt;h2 id="以下为-m8toandriodpy-的代码">以下为 m8toAndriod.py 的代码：&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-python" data-lang="python">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e">#!/usr/bin/env python&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># coding: utf-8&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 功能：将M8导出的联系人XML转化成Andriod可以导入的vcf文件&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 版本：python 2.6 以上&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 作者：leaker&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 网站：http://www.leelib.com&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#f92672">from&lt;/span> xml.etree &lt;span style="color:#f92672">import&lt;/span> ElementTree &lt;span style="color:#66d9ef">as&lt;/span> ET
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#75715e"># 输出到的mycontact.vcf&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>out &lt;span style="color:#f92672">=&lt;/span> file(&lt;span style="color:#e6db74">&amp;#34;mycontact.vcf&amp;#34;&lt;/span>, &lt;span style="color:#e6db74">&amp;#34;wb&amp;#34;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>root &lt;span style="color:#f92672">=&lt;/span> ET&lt;span style="color:#f92672">.&lt;/span>parse(file(&lt;span style="color:#e6db74">&amp;#34;mycontact.xml&amp;#34;&lt;/span>, &lt;span style="color:#e6db74">&amp;#34;r&amp;#34;&lt;/span>))&lt;span style="color:#f92672">.&lt;/span>getroot()
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>print root
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#66d9ef">for&lt;/span> e &lt;span style="color:#f92672">in&lt;/span> root&lt;span style="color:#f92672">.&lt;/span>findall(&lt;span style="color:#e6db74">&amp;#39;Person&amp;#39;&lt;/span>):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> out&lt;span style="color:#f92672">.&lt;/span>write(&lt;span style="color:#e6db74">&amp;#39;BEGIN:VCARDrnVERSION:3.0rn&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> out&lt;span style="color:#f92672">.&lt;/span>write(&lt;span style="color:#e6db74">&amp;#39;N:&lt;/span>&lt;span style="color:#e6db74">%s&lt;/span>&lt;span style="color:#e6db74">;&lt;/span>&lt;span style="color:#e6db74">%s&lt;/span>&lt;span style="color:#e6db74">;;;rn&amp;#39;&lt;/span> &lt;span style="color:#f92672">%&lt;/span> (e&lt;span style="color:#f92672">.&lt;/span>findtext(&lt;span style="color:#e6db74">&amp;#39;LastName&amp;#39;&lt;/span>, &lt;span style="color:#e6db74">&amp;#39;&amp;#39;&lt;/span>)&lt;span style="color:#f92672">.&lt;/span>encode(&lt;span style="color:#e6db74">&amp;#39;utf8&amp;#39;&lt;/span>), e&lt;span style="color:#f92672">.&lt;/span>findtext(&lt;span style="color:#e6db74">&amp;#39;FirstName&amp;#39;&lt;/span>, &lt;span style="color:#e6db74">&amp;#39;&amp;#39;&lt;/span>)&lt;span style="color:#f92672">.&lt;/span>encode(&lt;span style="color:#e6db74">&amp;#39;utf8&amp;#39;&lt;/span>)))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> out&lt;span style="color:#f92672">.&lt;/span>write(&lt;span style="color:#e6db74">&amp;#39;FN:&lt;/span>&lt;span style="color:#e6db74">%s&lt;/span>&lt;span style="color:#e6db74">rn&amp;#39;&lt;/span> &lt;span style="color:#f92672">%&lt;/span> (e&lt;span style="color:#f92672">.&lt;/span>findtext(&lt;span style="color:#e6db74">&amp;#39;FileAs&amp;#39;&lt;/span>, &lt;span style="color:#e6db74">&amp;#39;&amp;#39;&lt;/span>)&lt;span style="color:#f92672">.&lt;/span>encode(&lt;span style="color:#e6db74">&amp;#39;utf8&amp;#39;&lt;/span>)))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#75715e"># print &amp;#39;FN:%srn&amp;#39;% (e.findtext(&amp;#39;FileAs&amp;#39;, &amp;#39;&amp;#39;).encode(&amp;#39;gb2312&amp;#39;))&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">for&lt;/span> ee &lt;span style="color:#f92672">in&lt;/span> root&lt;span style="color:#f92672">.&lt;/span>findall(&lt;span style="color:#e6db74">&amp;#39;Phone&amp;#39;&lt;/span>):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#66d9ef">if&lt;/span> ee&lt;span style="color:#f92672">.&lt;/span>findtext(&lt;span style="color:#e6db74">&amp;#39;PersonID&amp;#39;&lt;/span>,&lt;span style="color:#e6db74">&amp;#39;&amp;#39;&lt;/span>) &lt;span style="color:#f92672">==&lt;/span> e&lt;span style="color:#f92672">.&lt;/span>findtext(&lt;span style="color:#e6db74">&amp;#39;ID&amp;#39;&lt;/span>,&lt;span style="color:#e6db74">&amp;#39;&amp;#39;&lt;/span>):
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> primary &lt;span style="color:#f92672">=&lt;/span> ee&lt;span style="color:#f92672">.&lt;/span>get(&lt;span style="color:#e6db74">&amp;#39;IsPrimary&amp;#39;&lt;/span>) &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#e6db74">&amp;#39;true&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> out&lt;span style="color:#f92672">.&lt;/span>write(&lt;span style="color:#e6db74">&amp;#39;TEL;TYPE=CELL&lt;/span>&lt;span style="color:#e6db74">%s&lt;/span>&lt;span style="color:#e6db74">:&lt;/span>&lt;span style="color:#e6db74">%s&lt;/span>&lt;span style="color:#e6db74">rn&amp;#39;&lt;/span> &lt;span style="color:#f92672">%&lt;/span> ((&lt;span style="color:#e6db74">&amp;#39;;TYPE=PREF&amp;#39;&lt;/span> &lt;span style="color:#66d9ef">if&lt;/span> primary &lt;span style="color:#66d9ef">else&lt;/span> &lt;span style="color:#e6db74">&amp;#39;&amp;#39;&lt;/span>), ee&lt;span style="color:#f92672">.&lt;/span>findtext(&lt;span style="color:#e6db74">&amp;#39;Info&amp;#39;&lt;/span>,&lt;span style="color:#e6db74">&amp;#39;&amp;#39;&lt;/span>)))
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> out&lt;span style="color:#f92672">.&lt;/span>write(&lt;span style="color:#e6db74">&amp;#39;END:VCARDrn&amp;#39;&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>out&lt;span style="color:#f92672">.&lt;/span>close()
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>点击这里下载：&lt;a href="https://www.leelib.com/wp-content/uploads/2012/04/m8toAndriod.7z">m8toAndriod.7z&lt;/a>&lt;/p></description></item></channel></rss>